{"version":3,"file":"static/js/884.0218efbe.chunk.js","mappings":"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","sources":["pages/MovieDetails.jsx","services/api.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import React, { Suspense, lazy, useEffect, useRef, useState } from 'react';\nimport { Link, Route, Routes, useLocation, useParams } from 'react-router-dom';\nimport { getMovieDetails } from 'services/api';\n\nconst Cast = lazy(() => import('components/Cast/Cast'));\nconst Reviews = lazy(() => import('components/Reviews/Reviews'));\n\nfunction MovieDetails() {\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [isLoading, setisLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const { movieId } = useParams();\n\n  const location = useLocation();\n  const backLink = useRef(location.state?.from ?? '/movies');\n\n  useEffect(() => {\n    const fetchMovieData = async movieId => {\n      try {\n        setisLoading(true);\n        const data = await getMovieDetails(movieId);\n        setMovieDetails(data);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setisLoading(false);\n      }\n    };\n\n    fetchMovieData(movieId);\n  }, [movieId]);\n\n  return (\n    <div>\n      {error.length > 0 && <div>{error}</div>}\n\n      {isLoading && <div>Loading...</div>}\n\n      {movieDetails !== null && (\n        <div>\n          <Link\n            to={backLink.current}\n            style={{ display: 'block', marginBottom: '20px' }}\n          >\n            Go back\n          </Link>\n          <img\n            src={`https://image.tmdb.org/t/p/w500${movieDetails.poster_path}`}\n            alt={movieDetails.original_title}\n            width={200}\n          />\n          <h1>{movieDetails.original_title}</h1>\n          <h2>Vote Average:</h2>\n          <p> {movieDetails.vote_average}</p>\n          <h2>Genres:</h2>\n          {movieDetails.genres.length > 0\n            ? movieDetails.genres\n                .map(({ name, id }) => {\n                  return <span key={id}>{name}</span>;\n                })\n                .join(', ')\n            : 'There no genres'}\n          <h2>Overview:</h2>\n          <p>{movieDetails.overview}`</p>\n        </div>\n      )}\n      <div>\n        <p>Additional information:</p>\n        <Link to=\"cast\">Cast</Link>\n        <Link to=\"reviews\">Reviews</Link>\n      </div>\n      <div>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Routes>\n            <Route path=\"cast\" element={<Cast />} />\n            <Route path=\"reviews\" element={<Reviews />} />\n          </Routes>\n        </Suspense>\n      </div>\n    </div>\n  );\n}\n\nexport default MovieDetails;\n","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '65175319ff5fdf769ef44bf4c6a21d27';\n\nexport const getDataMovies = async (query = '', page = 1) => {\n  const response = await fetch(\n    `${BASE_URL}trending/movie/day?api_key=${API_KEY}&query=${query}&page=${page}`\n  );\n  const data = await response.json();\n\n  return data;\n};\n\nexport const getMovieDetails = async movieId => {\n  const response = await fetch(\n    `${BASE_URL}movie/${movieId}?api_key=${API_KEY}`\n  );\n  if (!response.ok) {\n    throw new Error('Some api error occured');\n  }\n  const data = await response.json();\n  return data;\n};\n\nexport const getMovieCast = async movieId => {\n  const response = await fetch(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  if (!response.ok) {\n    throw new Error('Some api error occured');\n  }\n  const data = await response.json();\n  return data;\n};\n\nexport const getMovieReviews = async movieId => {\n  const response = await fetch(\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  if (!response.ok) {\n    throw new Error('Some api error occured');\n  }\n  const data = await response.json();\n  return data;\n};\n\nexport const getMovieBySearch = async query => {\n  const response = await fetch(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  if (!response.ok) {\n    throw new Error('Some api error occured');\n  }\n  const data = await response.json();\n  return data;\n};\n\n//  const { data } = await axios.get(\n//    `${BASE_URL}/${pathname}?api_key=${API_KEY}&query=${query}&page=${page}`\n//  );\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["Cast","lazy","Reviews","useState","movieDetails","setMovieDetails","isLoading","setisLoading","error","setError","movieId","useParams","location","useLocation","backLink","useRef","state","from","useEffect","fetchMovieData","getMovieDetails","data","message","length","to","current","style","display","marginBottom","src","poster_path","alt","original_title","width","vote_average","genres","map","name","id","join","overview","Suspense","fallback","path","element","BASE_URL","API_KEY","getDataMovies","query","page","fetch","response","json","ok","Error","getMovieCast","getMovieReviews","getMovieBySearch","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}